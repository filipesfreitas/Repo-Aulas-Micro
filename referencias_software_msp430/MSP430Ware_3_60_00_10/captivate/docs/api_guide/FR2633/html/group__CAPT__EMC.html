<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MSP430&trade; CapTIvate Library API Guide: CAPT_EMC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
    <img alt="Logo" width=25% src="ti_hz_2c_pos_rgb_png.png"/>
    <table cellspacing="0" cellpadding="0">
        <tbody>
        <tr style="height: 56px;">
            <td style="padding-left: 0.5em;">
                <div id="projectname">MSP430&trade; CapTIvate Library API Guide
                    &#160;<span id="projectnumber">LIB_VERSION=1.04.00.00</span>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__CAPT__EMC.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">CAPT_EMC</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5a2b8cfe36911ae067490fb7812a83fb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#ga5a2b8cfe36911ae067490fb7812a83fb">CAPT_loadEMCConfig</a> (const <a class="el" href="structtEMCConfig.html">tEMCConfig</a> *pConfig)</td></tr>
<tr class="separator:ga5a2b8cfe36911ae067490fb7812a83fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15e9fda256c986acf7d017c1161978b2"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#ga15e9fda256c986acf7d017c1161978b2">CAPT_getGlobalFilteredNoiseLevel</a> (void)</td></tr>
<tr class="separator:ga15e9fda256c986acf7d017c1161978b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada4633694af24ebcdf35bbf0a178497a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#gada4633694af24ebcdf35bbf0a178497a">CAPT_resetGlobalFilteredNoiseLevel</a> (void)</td></tr>
<tr class="separator:gada4633694af24ebcdf35bbf0a178497a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4fee2967a552f18ac184041e80a5844f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#ga4fee2967a552f18ac184041e80a5844f">CAPT_updateGlobalFilteredNoiseLevel</a> (<a class="el" href="structtElement.html">tElement</a> *pElement, uint16_t ui16RelNoiseLevel)</td></tr>
<tr class="separator:ga4fee2967a552f18ac184041e80a5844f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9d4bcade969d43affa95f4947ccffaa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#gaf9d4bcade969d43affa95f4947ccffaa">CAPT_getEMCConversionSettings</a> (tSenseTechnology method, tRawConversionStyle *pConversion, tOversamplingStyle *pOversampling)</td></tr>
<tr class="separator:gaf9d4bcade969d43affa95f4947ccffaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8be8b9f27198bbdc67ddfad11c09c97"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#gab8be8b9f27198bbdc67ddfad11c09c97">CAPT_getRelNoiseStatusThreshold</a> (void)</td></tr>
<tr class="memdesc:gab8be8b9f27198bbdc67ddfad11c09c97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the relative noise threshold parameter.  <a href="#gab8be8b9f27198bbdc67ddfad11c09c97">More...</a><br /></td></tr>
<tr class="separator:gab8be8b9f27198bbdc67ddfad11c09c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac156ab07e4687972240fb945ec121930"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#gac156ab07e4687972240fb945ec121930">CAPT_getMaxRelThreshold</a> (void)</td></tr>
<tr class="separator:gac156ab07e4687972240fb945ec121930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2749b3c7643256dccefb5f190d936160"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#ga2749b3c7643256dccefb5f190d936160">CAPT_testConversionFrequencyForNoise</a> (<a class="el" href="structtSensor.html">tSensor</a> *pSensor, uint8_t ui8Freq)</td></tr>
<tr class="separator:ga2749b3c7643256dccefb5f190d936160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f34784b62a3b0d5c8bc844b5f606da1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#ga6f34784b62a3b0d5c8bc844b5f606da1">CAPT_correctInvalidMultiFreqCalibration</a> (<a class="el" href="structtSensor.html">tSensor</a> *pSensor, uint8_t ui8NoiseMask)</td></tr>
<tr class="separator:ga6f34784b62a3b0d5c8bc844b5f606da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf90c828b95619fe75de297edce895b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#gacf90c828b95619fe75de297edce895b2">CAPT_resolveMultiFreqSet</a> (const uint16_t *pNewSet, uint16_t *pResult, uint16_t *pNoiseLevel, bool bRemoveOutlier)</td></tr>
<tr class="separator:gacf90c828b95619fe75de297edce895b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga193e7bb8084cb85f7e373d6d253d8419"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#ga193e7bb8084cb85f7e373d6d253d8419">CAPT_computeJitterFilter</a> (uint16_t ui16Prev, uint16_t ui16Curr)</td></tr>
<tr class="memdesc:ga193e7bb8084cb85f7e373d6d253d8419"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function applies a basic single-level jitter filter to a sample.  <a href="#ga193e7bb8084cb85f7e373d6d253d8419">More...</a><br /></td></tr>
<tr class="separator:ga193e7bb8084cb85f7e373d6d253d8419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga170821f4ce67ddc34870a023c5b3d6b2"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CAPT__EMC.html#ga170821f4ce67ddc34870a023c5b3d6b2">CAPT_computeRelNoiseComp</a> (void)</td></tr>
<tr class="separator:ga170821f4ce67ddc34870a023c5b3d6b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The EMC software module of the Captivate touch library provides a set of utilities that aid in designing for electromagnetic compatibility (EMC). These functions work together with the Captivate peripheral to provide a high level of immunity to conducted/radiated RF disturbances, EFT, and ESD transients. </p><dl class="section version"><dt>Version</dt><dd>1.04.00.00 Released on Mon, Aug 15, 2016 5:06:13 PM </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga193e7bb8084cb85f7e373d6d253d8419"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t CAPT_computeJitterFilter </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ui16Prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ui16Curr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function applies a basic single-level jitter filter to a sample. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui16Prev</td><td>is the current natural count value. </td></tr>
    <tr><td class="paramname">ui16Curr</td><td>is the new raw count value to filter in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>The new, filtered value. </dd></dl>

</div>
</div>
<a class="anchor" id="ga170821f4ce67ddc34870a023c5b3d6b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CAPT_computeRelNoiseComp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function computes the amount of threshold compensation to apply to an element. The noise level passed will be used as the input to determine the amount of threshold compensation to apply. If the global noise setting (bDynamicThresholdAdjustmentIsGlobal) is true, and the global noise value is higher than the passed noise level, the global noise reference will be used to compute the threshold compensation. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui8NoiseLevel</td><td>specifies the relative noise level to adjust for, based on a 1/128 scale. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>The amount to adjust the threshold by. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6f34784b62a3b0d5c8bc844b5f606da1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CAPT_correctInvalidMultiFreqCalibration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtSensor.html">tSensor</a> *&#160;</td>
          <td class="paramname"><em>pSensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ui8NoiseMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function will correct invalid calibration parameters for a given sensor based on the noise mask that is passed. BIT0 through BIT3 in the passed ui8NoiseMask indicate that noise is present on FREQ0 to FREQ3, respectively. If a frequency is marked as noisy, its calibration values are automatically considered to be invalid and are replaced with the next closest valid values. If no valid values are available to correct a frequency, the invalid values are left alone and the function returns true to indicate that no corrections were made. This would happen if noise was present on all frequencies.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pSensor</td><td>is a pointer to the sensor to correct </td></tr>
    <tr><td class="paramname">ui8NoiseMask</td><td>is a bit mask of frequencies that have noise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>true if the calibration values were not modified because all had noise, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf9d4bcade969d43affa95f4947ccffaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAPT_getEMCConversionSettings </td>
          <td>(</td>
          <td class="paramtype">tSenseTechnology&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tRawConversionStyle *&#160;</td>
          <td class="paramname"><em>pConversion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tOversamplingStyle *&#160;</td>
          <td class="paramname"><em>pOversampling</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the raw conversion style and oversampling style that are specified for an EMC conversion in self or projected mode. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>is the sensing method to query </td></tr>
    <tr><td class="paramname">pConversion</td><td>is a pointer to the location to store the raw conversion style </td></tr>
    <tr><td class="paramname">pOversampling</td><td>is a pointer to the location to store the oversampling style. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="ga15e9fda256c986acf7d017c1161978b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t CAPT_getGlobalFilteredNoiseLevel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use CAPT_getGlobalFilteredNoiseValue() to retrieve the global filtered noise value. This value stores an aggregate noise level for all self-capacitance elements when bDynamicThresholdAdjustmentIsGlobal is true.</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>the global filtered noise value, expressed as a % of the LTA of any given sensor, with 0=0% and 128=100% </dd></dl>

</div>
</div>
<a class="anchor" id="gac156ab07e4687972240fb945ec121930"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CAPT_getMaxRelThreshold </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the maximum relative threshold parameter, as specified in the EMC configuration structure that is currently loaded. This may be used for bounds checks on adjusted thresholds by external functions.</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>the maximum relative threshold allowed </dd></dl>

</div>
</div>
<a class="anchor" id="gab8be8b9f27198bbdc67ddfad11c09c97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CAPT_getRelNoiseStatusThreshold </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the relative noise threshold parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>the relative noise threshold </dd></dl>

</div>
</div>
<a class="anchor" id="ga5a2b8cfe36911ae067490fb7812a83fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CAPT_loadEMCConfig </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtEMCConfig.html">tEMCConfig</a> *&#160;</td>
          <td class="paramname"><em>pConfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use this function to load an EMC configuration. This must be done prior to using the EMC layer. When a new EMC configuration is loaded, the the internal global noise level and highest noise element variables are both reset. If a null pointer is passed, the function will not adjust any variables and will exit leaving the existing configuration. The EMC configuration is a <a class="el" href="structtEMCConfig.html" title="typedef tEMCConfig ">tEMCConfig</a> structure that defines how the EMC layer processes data. The structure is defined in <a class="el" href="CAPT__Type_8h_source.html">CAPT_Type.h</a>.</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pRawSet</td><td>is a pointer to the source data memory </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>true if a valid pointer was passed, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="gada4633694af24ebcdf35bbf0a178497a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAPT_resetGlobalFilteredNoiseLevel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use <a class="el" href="group__CAPT__EMC.html#gada4633694af24ebcdf35bbf0a178497a">CAPT_resetGlobalFilteredNoiseLevel()</a> to seed the global filtered noise value to zero, effectively resetting it.</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="gacf90c828b95619fe75de297edce895b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAPT_resolveMultiFreqSet </td>
          <td>(</td>
          <td class="paramtype">const uint16_t *&#160;</td>
          <td class="paramname"><em>pNewSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>pResult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>pNoiseLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bRemoveOutlier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function resolves a set of conversions done in series at different conversion frequencies into a single conversion result. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pNewSet</td><td>is a pointer to the new raw data set. Four words are expected at this location. </td></tr>
    <tr><td class="paramname">pResult</td><td>is a pointer indicating the memory location to store the output of the algorithm </td></tr>
    <tr><td class="paramname">pNoiseLevel</td><td>is a pointer indicating the memory location to store the level of noise in the raw set. The noise level is calculated as max-min. </td></tr>
    <tr><td class="paramname">bRemoveOutlier</td><td>tells the function to remove the outlier from the sample set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="ga2749b3c7643256dccefb5f190d936160"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CAPT_testConversionFrequencyForNoise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtSensor.html">tSensor</a> *&#160;</td>
          <td class="paramname"><em>pSensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ui8Freq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function will test a frequency for noise and return true if noise is detected. All elements in the sensor will be scanned at the requested frequency to determine if noise is present. The number of samples measured as well as the noise threshold used to determine the presence of noise may be adjusted in the EMC configuration structure via the ui8CalibrationTestSampleSize and ui16CalibrationNoiseLimit parameters, respectively. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pSensor</td><td>is a pointer to the sensor to test </td></tr>
    <tr><td class="paramname">ui8Freq</td><td>is the frequency to test</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>true if noise was detected, else false </dd></dl>

</div>
</div>
<a class="anchor" id="ga4fee2967a552f18ac184041e80a5844f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAPT_updateGlobalFilteredNoiseLevel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtElement.html">tElement</a> *&#160;</td>
          <td class="paramname"><em>pElement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ui16RelNoiseLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use <a class="el" href="group__CAPT__EMC.html#ga4fee2967a552f18ac184041e80a5844f">CAPT_updateGlobalFilteredNoiseLevel()</a> to update the global filtered noise level based on a channel's noise level.</p>
<p>If the new noise level is above the current global value, the "up" direction filter beta will be applied; otherwise, the "down" direction filter beta will be applied.</p>
<p>Additionally, if the new noise level is "up" going and the new value is below the noise level filter entry threshold, no filtering will be applied. Likewise, if the new noise level is "down" going and the new value is below the noise level filter exit threshold, the filter will not be applied. This is to speed response to quick, drastic changes in values.</p>
<p>To maintain a valid global level when only one element is being interacted with, whenever a new high point is established the address of that data point (effectively the corresponding sensing element) will be stored. Then, only that data point is allowed to decrease the global value unless the global value is reset manually. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pElement</td><td>is the address of the element </td></tr>
    <tr><td class="paramname">ui16RelNoiseLevel</td><td>is the new relative noise level </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
	<p>Copyright &#169; 2015, Texas Instruments Incorporated</p>	
    </li>
  </ul>
</div>
</body>
</html>
