<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MSP430&trade; CapTIvate Library API Guide: I2CSlave</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
    <img alt="Logo" width=25% src="ti_hz_2c_pos_rgb_png.png"/>
    <table cellspacing="0" cellpadding="0">
        <tbody>
        <tr style="height: 56px;">
            <td style="padding-left: 0.5em;">
                <div id="projectname">MSP430&trade; CapTIvate Library API Guide
                    &#160;<span id="projectnumber">LIB_VERSION=1.04.00.00</span>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__I2CSlave.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">I2CSlave</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtI2CSlavePort.html">tI2CSlavePort</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga8a0f80480e6491d2d5c4c66c68950b84"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8a0f80480e6491d2d5c4c66c68950b84"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga8a0f80480e6491d2d5c4c66c68950b84">tI2CSlaveStates</a> { <b>eI2CSlaveIsClosed</b> = 0x00, 
<b>eI2CSlaveIsIdle</b> = 0x01, 
<b>eI2CSlaveIsBeingRead</b> = 0x02, 
<b>eI2CSlaveIsBeingWrittenTo</b> = 0x03
 }<tr class="memdesc:ga8a0f80480e6491d2d5c4c66c68950b84"><td class="mdescLeft">&#160;</td><td class="mdescRight">enumerates the possible I2C slave driver states. <br /></td></tr>
</td></tr>
<tr class="separator:ga8a0f80480e6491d2d5c4c66c68950b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10eceef6ce0552cd9de4af8783d86273"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga10eceef6ce0552cd9de4af8783d86273">tI2CSlaveErrors</a> { <b>eI2CSlaveTransmitRequestTimeout</b>, 
<b>eI2CSlaveTransactionTimeout</b>, 
<b>eI2CSlaveReceiveBufferFull</b>, 
<b>eI2CSlaveWasReadBeyondTransmitBuffer</b>
 }</td></tr>
<tr class="separator:ga10eceef6ce0552cd9de4af8783d86273"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9990c6184252758b3b018e3c561ee788"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga9990c6184252758b3b018e3c561ee788">I2CSlave_openPort</a> (const <a class="el" href="structtI2CSlavePort.html">tI2CSlavePort</a> *pPort)</td></tr>
<tr class="separator:ga9990c6184252758b3b018e3c561ee788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaacaa4eef0267e2191270aaf3a0344eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#gaaacaa4eef0267e2191270aaf3a0344eb">I2CSlave_closePort</a> (void)</td></tr>
<tr class="separator:gaaacaa4eef0267e2191270aaf3a0344eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08c0b293c29625c950080a37441f2f65"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga08c0b293c29625c950080a37441f2f65">I2CSlave_getPortStatus</a> (void)</td></tr>
<tr class="separator:ga08c0b293c29625c950080a37441f2f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94427456ef90ba6a3a1016e997e0b2e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga94427456ef90ba6a3a1016e997e0b2e7">I2CSlave_setTransmitBuffer</a> (uint8_t *pBuffer, uint16_t ui16Length)</td></tr>
<tr class="separator:ga94427456ef90ba6a3a1016e997e0b2e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d36f3c4ce49287aff1df848043f47b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga2d36f3c4ce49287aff1df848043f47b4">I2CSlave_setRequestFlag</a> (void)</td></tr>
<tr class="separator:ga2d36f3c4ce49287aff1df848043f47b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2eef6b7104e4416dd3e6a1fab1243deb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2eef6b7104e4416dd3e6a1fab1243deb"></a>
__interrupt void&#160;</td><td class="memItemRight" valign="bottom"><b>I2CSlave_ISR</b> (void)</td></tr>
<tr class="separator:ga2eef6b7104e4416dd3e6a1fab1243deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaf135f08f0be33add8c3d83bdbfb94cd9"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structtI2CSlavePort.html">tI2CSlavePort</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#gaf135f08f0be33add8c3d83bdbfb94cd9">g_pI2CSlavePort</a></td></tr>
<tr class="separator:gaf135f08f0be33add8c3d83bdbfb94cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5cd521795bed66cf8c00ae0069d41bed"><td class="memItemLeft" align="right" valign="top">const EUSCI_B_I2C_initSlaveParam&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga5cd521795bed66cf8c00ae0069d41bed">g_I2CSlaveConfiguration</a></td></tr>
<tr class="separator:ga5cd521795bed66cf8c00ae0069d41bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0978f728ebe01d41f88bd633d05e765b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0978f728ebe01d41f88bd633d05e765b"></a>
const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga0978f728ebe01d41f88bd633d05e765b">g_pI2CTransmitBuffer</a></td></tr>
<tr class="memdesc:ga0978f728ebe01d41f88bd633d05e765b"><td class="mdescLeft">&#160;</td><td class="mdescRight">var g_pI2CTransmitBuffer stores a pointer to the current transmit buffer. <br /></td></tr>
<tr class="separator:ga0978f728ebe01d41f88bd633d05e765b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48721470625c72b134242c788c876433"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga48721470625c72b134242c788c876433">g_ui16I2CLength</a></td></tr>
<tr class="separator:ga48721470625c72b134242c788c876433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd4407785e1c6af17edaf169002db5a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gadd4407785e1c6af17edaf169002db5a7"></a>
volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#gadd4407785e1c6af17edaf169002db5a7">g_ui16I2CIndex</a></td></tr>
<tr class="memdesc:gadd4407785e1c6af17edaf169002db5a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">var g_ui16I2CIndex stores the current transmit or receive buffer index. <br /></td></tr>
<tr class="separator:gadd4407785e1c6af17edaf169002db5a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga784dfd8e668ced7feec8d39014560d0a"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga784dfd8e668ced7feec8d39014560d0a">g_I2CSlaveStatus</a> = eI2CSlaveIsClosed</td></tr>
<tr class="separator:ga784dfd8e668ced7feec8d39014560d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f38215571c374c47b7e0c3d5bbd367f"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga6f38215571c374c47b7e0c3d5bbd367f">g_bI2CSlaveRequestPending</a></td></tr>
<tr class="separator:ga6f38215571c374c47b7e0c3d5bbd367f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16051f1c624aa10b8ee05f38fdd51e97"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structtFunctionTimer.html">tFunctionTimer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2CSlave.html#ga16051f1c624aa10b8ee05f38fdd51e97">g_I2CSlaveFunctionTimer</a></td></tr>
<tr class="separator:ga16051f1c624aa10b8ee05f38fdd51e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This is the I2C slave port driver header file. The I2C slave port driver enables interrupt-driven I2C-bus transactions via a simple API. The implementation requires one eUSCI_B instance, and the MSP430 DriverLib version 2.10.00.00 or greater. </p><dl class="section version"><dt>Version</dt><dd>1.04.00.00 Released on Mon, Aug 15, 2016 5:06:13 PM</dd></dl>
<p>This is the I2C slave definitions file. This file sets the configuration parameters for the I2C slave port. </p><dl class="section version"><dt>Version</dt><dd>1.04.00.00 Released on Mon, Aug 15, 2016 5:06:13 PM </dd></dl>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga10eceef6ce0552cd9de4af8783d86273"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__I2CSlave.html#ga10eceef6ce0552cd9de4af8783d86273">tI2CSlaveErrors</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>enumerates the possible I2C slave driver errors. These error codes are passed to the error callback function. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaaacaa4eef0267e2191270aaf3a0344eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2CSlave_closePort </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function closes the I2C slave port on the specified HW eUSCI_B peripheral. </p><dl class="section user"><dt>Parameters</dt><dd>none </dd></dl>
<dl class="section user"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="ga08c0b293c29625c950080a37441f2f65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t I2CSlave_getPortStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns the status of the I2C port when called. The possible I2C statuses are enumerated under tI2CSlaveStates. </p><dl class="section user"><dt>Parameters</dt><dd>none </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>tI2CSlaveStates enumeration indicating the current I2C status. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9990c6184252758b3b018e3c561ee788"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2CSlave_openPort </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtI2CSlavePort.html">tI2CSlavePort</a> *&#160;</td>
          <td class="paramname"><em>pPort</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function opens the I2C slave port on the specified HW eUSCI_B peripheral. This function must be called before the port is used. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPort</td><td>is a pointer to the I2C Slave Port configuration structure. The user must populate and provide this structure to the I2C slave port driver. The data structure must remain at the same address throughout the operation of the driver. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="ga2d36f3c4ce49287aff1df848043f47b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2CSlave_setRequestFlag </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function pulls the I2C request line to signal the bus master that data is waiting to be read from this device. This function will block until either the bus master begins to read out the data OR the read post times out, at which point the error callback will be called to handle the error. </p><dl class="section user"><dt>Parameters</dt><dd>none </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true if bus master began read operation; else false if the request timed out. </dd></dl>

</div>
</div>
<a class="anchor" id="ga94427456ef90ba6a3a1016e997e0b2e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2CSlave_setTransmitBuffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ui16Length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sets a new transmit buffer in the I2C peripheral. To send a buffer of data to the I2C bus master, use this function to inform the driver of the buffer location and size. Then call the I2CSlave_setTransmitRequestFlag function to signal the host to begin transmission. If a current read is either pending or currently in progress, this function will block until that operation has completed or timed out before updating the transmit buffer pointer and length. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuffer</td><td>is a pointer to the new transmit buffer </td></tr>
    <tr><td class="paramname">ui16Length</td><td>is an integer specifying the valid data length in the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga6f38215571c374c47b7e0c3d5bbd367f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool g_bI2CSlaveRequestPending</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>var g_bI2CSlaveRequestPending indicates whether or not a read operation is currently pending on the I2C bus master. </p>

</div>
</div>
<a class="anchor" id="ga5cd521795bed66cf8c00ae0069d41bed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const EUSCI_B_I2C_initSlaveParam g_I2CSlaveConfiguration</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">    .slaveAddress = I2CSLAVE__ADDRESS,</div><div class="line">    .slaveAddressOffset = EUSCI_B_I2C_OWN_ADDRESS_OFFSET0,</div><div class="line">    .slaveOwnAddressEnable = EUSCI_B_I2C_OWN_ADDRESS_ENABLE</div><div class="line">}</div></div><!-- fragment --><p>var g_I2CSlaveConfiguration stores the MSP430 DriverLib EUSCI_B_I2C configuration parameters for the EUSCI_B_I2C_initSlave() function call. </p>

</div>
</div>
<a class="anchor" id="ga16051f1c624aa10b8ee05f38fdd51e97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structtFunctionTimer.html">tFunctionTimer</a> g_I2CSlaveFunctionTimer</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">    .pbFunction_A = &amp;I2CSlave_requestTimeoutHandler,</div><div class="line">    .pbFunction_B = &amp;I2CSlave_transactionTimeoutHandler,</div><div class="line">    .ui16FunctionDelay_A = I2CSLAVE__REQ_TIMEOUT_CYCLES,</div><div class="line">    .ui16FunctionDelay_B = I2CSLAVE__TXFR_TIMEOUT_CYCLES</div><div class="line">}</div></div><!-- fragment --><p>var g_I2CSlaveFunctionTimer contains the function timer configuration for the two I2C timeout events- a slave request timeout (Fxn A) and an I2C transaction timeout (Fxn B) </p>

</div>
</div>
<a class="anchor" id="ga784dfd8e668ced7feec8d39014560d0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t g_I2CSlaveStatus = eI2CSlaveIsClosed</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>var g_I2CSlaveStatus stores the current status of the I2C slave port. possible options are enumerated in tI2CSlaveStates. </p>

</div>
</div>
<a class="anchor" id="gaf135f08f0be33add8c3d83bdbfb94cd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structtI2CSlavePort.html">tI2CSlavePort</a>* g_pI2CSlavePort</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>var g_pI2CSlavePort stores a pointer to the I2C slave port configuration structure that was passed to the I2CSlave_openPort function. The I2C slave driver does not modify this structure. </p>

</div>
</div>
<a class="anchor" id="ga48721470625c72b134242c788c876433"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t g_ui16I2CLength</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>var g_ui16I2CLength stores the valid data length of the data pointed to by g_pI2CTransmitBuffer. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
	<p>Copyright &#169; 2015, Texas Instruments Incorporated</p>	
    </li>
  </ul>
</div>
</body>
</html>
